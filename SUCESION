INCLUDE <P16F84A.INC>
LIST P=16F84A
ORG 0
BSF STATUS, RP0
CLRF TRISB
MOVLW B'00001100'
MOVWF TRISA
BCF STATUS, RP0

CARGA
CLRF PORTA
BCF STATUS, C
MOVLW B'11110000'
MOVWF PORTB

PROBAR
BTFSC STAUS, C
BSF PORTA, 0
BTFSS STATUS, C
BCF PORTA, 0

BTFSC PORTA, 2
CALL ACTIVARLF
BTFSC PORTA, 3
CALL ACTIVARRF
GOTO PROBAR

ACTIVARLF
BTFSC PORTA, 2
GOTO ACTIVARLF
RLF PORTB,1 ;SI, entonces desplazo el registro a la izquierda
RETURN

ACTIVARRF
BTFSC PORTA, 3
GOTO ACTIVARRRF
RRF PORTB, 1; SI, entonces desplazo el registro a la derecha
RETURN

END